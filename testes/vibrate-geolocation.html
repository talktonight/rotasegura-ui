<!DOCTYPE html>
<html>
   
<head>
   <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
   <link rel="stylesheet" type="text/css" href="css/index.css">
   <title>Hello World</title>
</head>
   
<body>
   <div class="app">
      <h1>Apache Cordova</h1>
      <div id="deviceready" class="blink">
          <p class="event listening" id="geolocation">Connecting to Device</p>
      </div>
   </div>
   <script src="cordova.js"></script>
   <script>
      var element = document.getElementById('geolocation');
      
      function onSuccess(position) {
         element.innerHTML = 'Latitude: '  + position.coords.latitude      + '<br />' +
                             'Longitude: ' + position.coords.longitude     + '<br />' +
                             '<hr />'      + element.innerHTML;
         
         navigator.notification.vibrate(2500);
      }

      function onError(error) {
          alert('code: '    + error.code    + '\n' +
                'message: ' + error.message + '\n');
      }

      document.addEventListener('deviceready', function() {

         var watchID = navigator.geolocation.watchPosition(onSuccess, onError, { timeout: 30000 });
         cordova.plugins.backgroundMode.enable();
         
      });
   </script>
</body>
   
</html>
